<h2 mat-dialog-title>新機能のお知らせ</h2>

<mat-dialog-content>
  @if (isLoading) {
  <div class="loading-container">
    <p>お知らせを読み込み中...</p>
  </div>
  } @else {
  @for (announcement of announcements; track announcement.id) {
  <div class="announcement-item">
    <h3>{{announcement.title}}</h3>
    <p class="message">{{announcement.message}}</p>
    <div class="date">公開日: {{announcement.startDate | date:'yyyy/MM/dd'}}</div>
  </div>
  }

  @if (announcements.length === 0) {
  <div class="no-announcements">
    新着のお知らせはありません
  </div>
  }
  }

  @if (error) {
  <div class="error-message">
    {{ error }}
  </div>
  }
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onDontShowAgain()" [disabled]="isSaving || isLoading">
    今後は表示しない
  </button>
  <button mat-raised-button color="primary" (click)="onClose()" [disabled]="isSaving || isLoading">
    @if (isSaving) {
    処理中...
    } @else {
    閉じる
    }
  </button>
</mat-dialog-actions>